

# https://toss.tech/article/frontend-declarative-code

토스에서는 좋은 코드를 판단하는 제1원칙을 “`수정하기 쉬운 코드`”라고 생각합니다. 비즈니스 요구사항은 항상 빠르게 변하기 때문에, 개발자가 기민하게 대응하는 것이 중요하기 때문입니다. 그러면 선언적인 코드가 언제 수정하기 쉽고, 언제 그렇지 않은지 살펴봅시다.

먼저 아래와 같은 회원가입 폼 컴포넌트를 살펴봅시다.
```jsx
<SignUpForm
  onSubmit={result => {
    /* 회원가입 결과에 따라서 특정 동작 수행 ... */
  }}
/>
```

위 컴포넌트는 회원가입 로직을 하나의 컴포넌트로 추상화했기 때문에 선언적인 컴포넌트로 볼 수 있습니다.

이 코드는 `수정하기 쉬울까요`?

먼저 회원가입 폼을 여러 곳에서 사용한다면 각각의 폼을 중복해서 개발할 필요 없이 한 번만 개발하면 되기 때문에 효율적일 것입니다. 또한 회원가입 폼에 변경이 생긴다고 하더라도, 한 곳에서만 바꾸면 다른 화면들에 모두 반영되기 때문에 빨리 수정할 수 있을 것입니다.

수정하기 어려운 지점은 없을까요?

화면마다 `SignUpForm` 이 조금씩 다르다면, `공통화된 것이 오히려 코드의 복잡함을 가져올 수도 있습니다.` 예를 들어서, 어떤 페이지에서는 SNS 회원가입을 일반 이메일 회원가입보다 먼저 보여줘야 할 수 있습니다. 또, 다른 페이지에서는 텍스트나 스타일을 조금씩 다르게 보여줘야 할 수 있습니다.

아래와 같이 `SignUpForm` 에서 바뀔 수 있는 부분이 많다면, 내부 구현과 인터페이스도 복잡해지고, 쓰는 쪽에서도 불편할 것입니다.

```jsx
<SignUpForm
  signUpOrder={['sns', 'normal']
  title="사이트에 어서 오세요"
  subtitle="먼저 회원가입을 해주세요."
  primaryButtonColor={colors.blue}
  secondaryButtonColor={colors.grey}
  /* 많은 Prop 들 ... */
  onCancel={/* ... */}
  onSubmit={result => {
    /* 회원가입 결과에 따라서 특정 동작 수행 ... */
  }}
/>
```
이처럼 토스에서는 선언적인 코드가 항상 좋은 것이 아니라, 앞으로 제품이 어떻게 변화할지, 비즈니스 요구사항이 어떻게 되는지에 따라서 달라질 수 있다고 생각하고 있습니다. 앞으로 코드의 어떤 부분이 수정될지 예측하고, 이에 따라 적절한 선언 레벨을 따르는 코드를 작성할 필요가 있습니다.



> 제어 흐름이 드러나지 않을수록 추상화/선언형의 수준이 높다 
> 도메인에 대한 이해, 확장성이나 향후 방향성에 대해서 고민해봐야 추상화의 깊이가 정해지는 것 같더라 