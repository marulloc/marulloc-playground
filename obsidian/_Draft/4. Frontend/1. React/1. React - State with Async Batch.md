

리액트는 복잡한 웹 어플리케이션에서 
인터랙션으로 빈번하게 발생되는 DOM 업데이트를 최적화 하기 위해서

상태를 비동기/배치 로 처리하고 그 변화에 따라 
Virtual DOM을 재생성하고 그 결과를 DOM에 업데이트 한다. 

이때 비교과정을 좀더 빠르게 하기 위해 key가 중요함 

- const 인데 값이 계속 변경된다 ??
	- setState가 state를 직접 바꾸는 것이 아니니까 
	- 당연하지 "함수형" 이니까 새로운 VDOM으로 재실행되면서 함수가 재실행되면서 초기화되는거지 



# state 와 setState with Async/Batch Update
---
React는 State가 변경되면 화면이 리렌더링 된다. 

React에서는 setState를 통해 state를 변경할 수 있는데,
실제로 setState가 state를 직접 업데이트 하는 것이 아니라 

setState를 호출하면, React가 상태 변경 요청을 받아들이고 이것들을 하나의 `대기열`에 넣기만 한다.  
setState를 호출한 부분에선 바로 다음 코드가 진행된다.
> 즉 `비동기` 로 상태 업데이트가 진행된다는 것이다. 

React는 16ms 마다, 쌓인 상태 업데이트 요청들을 일괄적으로 처리
> 즉 `batch` 로 업데이트 한다. 

이 상태가 업데이트 되면
새로운 VDOM을 만들고 DOM을 업데이트 하게 된다.
즉 일괄적으로 DOM을 업데이트 하면서, 불필요한 Reflow나 Repaint 과정을 최소화 해주는 것이다. 


> 비동기로 진행하지 않는다면, 결국 배치업데이트가 아니라
> 상태 변경때마다 화면을 리렌더링하게된다.  - 브라우저 렌더링의 비효율을 해결 할 수 없게된다.

> Tips : const [state] 가 계속 변하는 이유는 결국, setState가 직접 업데이트 하는 것이아니라, React에게 화면 리렌더링을 요청하고, 새롭게 렌더링되면서 함수가 `재실행` 되고 const state가 초기화 되는 것이다. 


# Virtual DOM과 Re-render
---


리액트는 state가  setState를 발생시키면 상태를 변경해달라는 요청을 감지하고 
이것을 대기열로 넣는다. 
즉 `비동기` 로 상태가 업데이트 된다.

그리고 일정시간 약 16ms의 시간이 지나면 이 상태변경 요청들을 한번에 처리해서 
즉 `일괄처리`, 배치로 상태가 업데이트 된다 .



VirtualDOM diffing과 재조정을 가지게 되고

업데이트 한다. 